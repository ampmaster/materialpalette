function getById(id){return document.getElementById(id);}
var DATE=new Date();getById("time").innerHTML=('0'+ DATE.getHours()).slice(-2)+":"+('0'+ DATE.getMinutes()).slice(-2);PALETTE=PALETTE["resources"]["color"];var val500=[];var val700=[];var val200A=[];for(var i=0;i<PALETTE.length;i++){if(i%14===0){val500.push(PALETTE[i+5]);val700.push(PALETTE[i+7]);val200A.push(PALETTE[i+11]);}}
var cv1=getById("canvas1");var ctx=cv1.getContext("2d");var ctx2=getById("canvas2").getContext("2d");var img1=new Image();img1.src="static/rm/app1under.png";var img2=new Image();var img3=new Image();img3.src="static/rm/app2over.png";img2.src="static/rm/app1over.png";var loaded=0;var exampleSq=getById("exampleSq").cloneNode();var colors;var xmlText='				&lt;color name="primary">PRIM&lt;/color><br>				&lt;color name="primary_dark">DARK&lt;/color><br>				&lt;color name="accent">ACCE&lt;/color>';var codeblock=getById("xmlcode");img1.onload=startDrawing;img2.onload=startDrawing;img3.onload=startDrawing;for(var i=0;i<val500.length;i++){var node=exampleSq.cloneNode();node.removeAttribute("id");node.style.background=val500[i]["#text"];node.style.display="block";node.setAttribute("i",i);node.onclick=setBase;getById("basecolorpicker").appendChild(node);node=node.cloneNode();node.style.background=val700[i]["#text"];node.onclick=setDark;getById("darkcolorpicker").appendChild(node);node=node.cloneNode();node.style.background=val200A[i]["#text"];node.onclick=setAccent;getById("accentcolorpicker").appendChild(node);}
function setBase(){var i=this.getAttribute("i");colors.base=val500[i];reDraw();}
function setDark(){var i=this.getAttribute("i");colors.darker=val700[i];reDraw();}
function setAccent(){var i=this.getAttribute("i");colors.accent=val200A[i];reDraw();}
function randInt(upper){return parseInt(Math.random()*upper);}
function getRandomVal(array){return array[randInt(array.length)]["#text"];}
function randomizeColors(){var backgroundInt=randInt(val500.length);colors={base:val500[backgroundInt],darker:val700[backgroundInt],accent:val200A[randInt(val200A.length)]};}
function startDrawing(){loaded++;if(loaded>=3){randomizeColors();reDraw();}}
function reDraw(){ctx.beginPath();ctx.rect(0,0,400,400);ctx.fillStyle=colors.base["#text"];ctx.fill();ctx2.beginPath();ctx2.rect(0,0,400,400);ctx2.fillStyle=colors.base["#text"];ctx2.fill();ctx.drawImage(img1,0,0,400,500);ctx.beginPath();ctx.arc(40,173,22,0,2*Math.PI,false);ctx.fillStyle=colors.accent["#text"];ctx.fill();ctx.beginPath();ctx.rect(0,0,400,27);ctx.fillStyle=colors.darker["#text"];ctx.fill();ctx2.beginPath();ctx2.rect(0,0,400,27);ctx2.fillStyle=colors.darker["#text"];ctx2.fill();ctx2.beginPath();ctx2.rect(80,175,301,2.5);ctx2.fillStyle=colors.accent["#text"];ctx2.fill();ctx2.beginPath();ctx2.rect(355,130,1,40);ctx2.fillStyle=colors.accent["#text"];ctx2.fill();ctx2.font="15px Roboto";ctx2.fillText("Title",80,120);ctx.drawImage(img2,0,0,400,500);ctx2.drawImage(img3,0,0,400,500);getById("baseTitle").style.background=colors.base["#text"];getById("headerBottom").style.background=colors.base["#text"];getById("darkTitle").style.background=colors.darker["#text"];getById("time").style["background-color"]=colors.darker["#text"];getById("accentTitle").style.background=colors.accent["#text"];var xmlTextFilled=xmlText.replace("DARK",colors.darker["#text"]).replace("PRIM",colors.base["#text"]).replace("ACCE",colors.accent["#text"]);xmlcode.innerHTML=xmlTextFilled;}